<script>
    function difHandler(event, idInput) {
        clases = idInput.split(' ');
        idInput = clases.join('.');
        $('.d_' + idInput).html(parseFloat($('.f_' + idInput).val()) - parseFloat($('.t_' + idInput).html()));
    }

    $(document).ready(function() {
        $('#inv input').each(function() {
            $(this).change();
        });
    });
</script>
<div>
    <table id="inv" class="table bordered" style="text-align:center;">
        <thead>
            <tr>
                <th>Línea</th>
                <th>Proveedor</th>
                <th>Teórico</th>
                <th>Físico</th>
                <th>Diferencia</th>
            </tr>
        </thead>
        <!-- START inventario -->
        <tr>
            <td>
                {linea}
            </td>
            <td>
                {proveedor}
            </td>
            <td>
                <span class="t_{id_linea}{id_proveedor}">{stock}</span>
            </td>
            <td>
                <input type="text" class="f_{id_linea}{id_proveedor}" value="0" onchange="difHandler(event, '{id_linea}{id_proveedor}');" />
            </td>
            <td>
                <span class="d_{id_linea}{id_proveedor}"></span>
            </td>
        </tr>
        <!-- END inventario -->
    </table>
</div>